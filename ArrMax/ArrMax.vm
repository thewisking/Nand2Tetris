// Contains a function ArrMax.arrMax that finds and returns the largest element in the array a of length b.

function ArrMax.arrMax 2   // local 0 = current max, local 1 = remaining count

push argument 0
pop pointer 1

push that 0
pop local 0

push argument 1
push constant 1
sub
pop local 1

label LOOP

push local 1
push constant 0
gt
if-goto BODY
goto DONE

label BODY

push pointer 1
push constant 1
add
pop pointer 1


push that 0
push local 0
gt
if-goto SETMAX
goto CONT

label SETMAX
push that 0
pop local 0

label CONT
push local 1
push constant 1
sub
pop local 1
goto LOOP

label DONE
// return max
push local 0
return
